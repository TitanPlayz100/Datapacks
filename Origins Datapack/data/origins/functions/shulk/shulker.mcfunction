execute as @s run attribute @s generic.armor base set 6
execute if data entity @s Inventory[{Slot:-106b,id:"minecraft:shield"}] at @s run function origins:shulk/remove_offhand_item
execute as @a[nbt={SelectedItem:{id:"minecraft:shield"}},tag=shulk] at @s run function origins:shulk/remove_held_item
effect give @a[tag=skulk,scores={food=..16}] hunger 1 0 true
execute at @a[tag=skulk,nbt=!{ActiveEffects:[{Id:14b}]}] if predicate origins:random run particle end_rod ~ ~1 ~ 0.25 0.6 0.25 0 1
kill @e[type=item,nbt={Item:{id:"minecraft:wooden_pickaxe",tag:{temp:1b}}}]
kill @e[type=item,nbt={Item:{id:"minecraft:gray_stained_glass_pane",tag:{selection:1}}}]


execute as @s at @s unless entity @e[distance=0..5,tag=shulkstore,type=chest_minecart,limit=1,sort=nearest] run summon chest_minecart ~ ~ ~ {Invulnerable:1b,CustomDisplayTile:1b,Motion:[0.0,0.0,0.0],Tags:["shulkstore"],CustomName:'{"text":"Storage","color":"blue","bold":true,"italic":false}',DisplayState:{Name:"minecraft:air"},Items:[{Slot:0b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:1b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:2b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:6b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:7b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:8b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:9b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:10b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:11b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:15b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:16b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:17b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:18b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:19b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:20b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:24b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:25b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}},{Slot:26b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:0,selection:1,isMenu:1b}}]}

execute as @a[tag=shulk] at @s run tp @e[distance=0..5,tag=shulkstore,type=chest_minecart,limit=1,sort=nearest] ~ ~-0.69 ~

execute as @s at @s store result score @s tempbool run clear @s gray_stained_glass_pane{selection:1} 0
execute as @a[scores={tempbool=1..}] at @s run function origins:shulk/clearitem 
