scoreboard players set bool chest_menu 1

execute if score selection chest_menu matches 1 run data merge entity @e[tag=chest_menu,type=minecraft:chest_minecart,distance=0..2,limit=1,sort=nearest] {Tags:["chest_menu"],Items:[{Slot:0b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:1b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:2b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:3b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:4b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:5b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:6b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:7b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:8b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:9b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:10b,id:"minecraft:netherite_ingot",Count:1b,tag:{display:{Name:'{"text":"Buy 1 CryptoCoin","color":"yellow","bold":false,"italic":false}',Lore:['{"text":"Click to buy"}']},HideFlags:127,isMenu:1b,page:1,selection:2}},{Slot:12b,id:"minecraft:netherite_ingot",Count:2b,tag:{display:{Name:'{"text":"Buy 10 CryptoCoin","color":"yellow","bold":false,"italic":false}',Lore:['{"text":"Click to buy"}']},HideFlags:127,isMenu:1b,page:1,selection:3}},{Slot:14b,id:"minecraft:netherite_ingot",Count:3b,tag:{display:{Name:'{"text":"Buy 100 CryptoCoin","color":"yellow","bold":false,"italic":false}',Lore:['{"text":"Click to buy"}']},HideFlags:127,isMenu:1b,page:1,selection:4}},{Slot:16b,id:"minecraft:netherite_ingot",Count:4b,tag:{display:{Name:'{"text":"Buy 1000 CryptoCoin","color":"yellow","bold":false,"italic":false}',Lore:['{"text":"Click to buy"}']},HideFlags:127,isMenu:1b,page:1,selection:5}},{Slot:17b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:18b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:19b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:20b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:21b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:22b,id:"minecraft:barrier",Count:1b,tag:{display:{Name:'{"text":"Back","color":"yellow","italic":false},',Lore:['{"text":" "}']},HideFlags:127,isMenu:1b,page:1,selection:6}},{Slot:23b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:24b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:25b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}},{Slot:26b,id:'minecraft:gray_stained_glass_pane',Count:1b,tag:{display:{Name:'{"text":" "}'},HideFlags:127,page:1,selection:1,isMenu:1b}}]} 

execute as @s if score selection chest_menu matches 2 run function crypto:buy/buy_1_check
execute as @s if score selection chest_menu matches 3 run function crypto:buy/buy_10_check
execute as @s if score selection chest_menu matches 4 run function crypto:buy/buy_100_check
execute as @s if score selection chest_menu matches 5 run function crypto:buy/buy_1000_check


execute if score selection chest_menu matches 6 run scoreboard players set @s chest_menu 0